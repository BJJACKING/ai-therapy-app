# 项目需求文档

## 1. 产品概述

### 1.1 产品名称
心之 AI (MindAI)

### 1.2 产品定位
AI 驱动的心理咨询服务平台，提供即时、私密、低成本的心理支持

### 1.3 目标用户
- 轻度心理困扰人群（焦虑、抑郁、压力）
- 需要情绪疏导的职场人士
- 寻求自我成长的用户
- 对隐私敏感的用户

### 1.4 核心价值
- **即时性**: 24/7 随时可用
- **隐私性**: 完全匿名，无需担心被评判
- **低成本**: 比真人咨询便宜 80% 以上
- **科学性**: 基于循证心理学方法

## 2. 功能需求

### 2.1 用户端功能

#### 2.1.1 注册登录
- [ ] 手机号/邮箱注册
- [ ] 匿名快速体验（无需注册）
- [ ] 第三方登录（微信、Apple ID）
- [ ] 忘记密码/重置

#### 2.1.2 AI 咨询师
- [ ] **角色选择**
  - 温和型：共情、温暖、支持
  - 理性型：逻辑清晰、问题解决导向
  - 活泼型：轻松、幽默、鼓励
- [ ] **个性化匹配**
  - 根据用户偏好推荐角色
  - 根据问题类型推荐角色
  - 用户可随时切换角色
- [ ] **对话功能**
  - 文字对话
  - 语音输入/输出
  - 对话历史查看
  - 对话导出（加密）
- [ ] **情绪识别**
  - 实时分析用户情绪状态
  - 可视化情绪变化
  - 情绪触发因素识别

#### 2.1.3 情绪日记
- [ ] **记录功能**
  - 文字记录
  - 情绪标签选择（开心、难过、焦虑等）
  - 强度评分（1-10）
  - 触发事件记录
- [ ] **分析功能**
  - 情绪趋势图表
  - 情绪模式识别
  - 触发因素统计
- [ ] **提醒功能**
  - 每日提醒记录
  - 情绪异常提醒

#### 2.1.4 心理自助工具箱

##### 认知行为疗法 (CBT) 练习
- [ ] **思维记录表**
  - 识别自动思维
  - 挑战认知扭曲
  - 替代性思维
- [ ] **行为实验**
  - 设计实验
  - 记录结果
  - 反思学习
- [ ] **暴露练习**
  - 等级制定
  - 进度追踪
  - 成果记录

##### 放松训练
- [ ] **呼吸练习**
  - 4-7-8 呼吸法
  - 腹式呼吸
  - 节奏引导
- [ ] **正念冥想**
  - 身体扫描
  - 正念呼吸
  - 慈心冥想
- [ ] **渐进式肌肉放松**
  - 分部位引导
  - 音频指导
  - 进度保存

##### 行为激活
- [ ] **目标设定**
  - SMART 目标制定
  - 小步骤分解
- [ ] **活动记录**
  - 活动打卡
  - 愉悦感评分
- [ ] **奖励系统**
  - 成就徽章
  - 进度可视化

#### 2.1.5 心理测评
- [ ] **标准化量表**
  - PHQ-9（抑郁筛查）
  - GAD-7（焦虑筛查）
  - PSS（压力感知）
  - 大五人格（简化版）
- [ ] **测评报告**
  - 结果解读
  - 建议方案
  - 历史记录
- [ ] **定期追踪**
  - 自动提醒测评
  - 变化趋势分析

#### 2.1.6 专业内容库
- [ ] **心理科普**
  - 文章分类（情绪、关系、职场等）
  - 音频节目
  - 短视频
- [ ] **自助课程**
  - 结构化学习路径
  - 进度追踪
  - 课后练习
- [ ] **危机干预指南**
  - 紧急求助热线
  - 自助步骤
  - 专业转介

#### 2.1.7 社区支持（匿名）
- [ ] **互助分享**
  - 匿名发帖
  - 情感支持
  - 经验分享
- [ ] **话题小组**
  - 按主题分类
  - 小组讨论
  - 专家答疑
- [ ] **内容审核**
  - AI 自动审核
  - 人工审核
  - 举报机制

#### 2.1.8 个人中心
- [ ] **数据管理**
  - 对话历史
  - 情绪数据
  - 测评报告
- [ ] **隐私设置**
  - 数据加密
  - 匿名模式
  - 数据删除
- [ ] **订阅管理**
  - 会员状态
  - 订阅历史
  - 发票管理

### 2.2 管理后台功能

#### 2.2.1 用户管理
- [ ] 用户列表
- [ ] 用户详情
- [ ] 数据导出
- [ ] 账号封禁

#### 2.2.2 内容管理
- [ ] 科普文章管理
- [ ] 课程管理
- [ ] 测评量表管理
- [ ] 社区内容审核

#### 2.2.3 AI 管理
- [ ] 对话质量监控
- [ ] AI 角色管理
- [ ] 提示词优化
- [ ] 模型性能监控

#### 2.2.4 数据分析
- [ ] 用户活跃度
- [ ] 功能使用统计
- [ ] 留存分析
- [ ] 收入统计

#### 2.2.5 系统设置
- [ ] 配置管理
- [ ] 权限管理
- [ ] 操作日志
- [ ] 系统监控

## 3. 非功能需求

### 3.1 性能要求
- **响应时间**: 95% 请求 < 2 秒
- **并发支持**: 支持 1000+ 并发用户
- **可用性**: 99.9% 可用性
- **数据备份**: 每日自动备份

### 3.2 安全要求
- **数据加密**: 端到端加密
- **隐私保护**: 符合 GDPR/个人信息保护法
- **访问控制**: 严格的权限管理
- **审计日志**: 所有操作可追溯

### 3.3 用户体验
- **界面设计**: 温暖、简洁、易用
- **无障碍**: 支持无障碍访问
- **多语言**: 中文（后续支持英文）
- **离线功能**: 部分功能支持离线

### 3.4 兼容性
- **移动端**: iOS 12+, Android 7+
- **Web**: 主流浏览器支持
- **设备适配**: 手机、平板、桌面

## 4. AI 能力需求

### 4.1 情感计算
- **情绪识别**: 文本情绪分类（7 种基本情绪）
- **情绪强度**: 1-10 级强度评估
- **情绪趋势**: 时间序列分析
- **触发因素**: 关键词提取与关联

### 4.2 对话能力
- **共情回应**: 理解并回应用户情感
- **问题引导**: 有效提问技巧
- **认知重构**: 识别并挑战负面思维
- **行为建议**: 给出具体可行建议

### 4.3 知识检索
- **心理学知识**: CBT、正念、ACT 等
- **危机识别**: 自杀/自伤风险识别
- **转介建议**: 何时推荐真人咨询

### 4.4 安全机制
- **内容审核**: 防止有害内容生成
- **危机干预**: 自动触发危机流程
- **边界维护**: 明确 AI 能力边界

## 5. 数据需求

### 5.1 数据模型

#### 用户数据
```sql
User {
  id: UUID
  phone: String (加密)
  email: String (加密)
  anonymous_id: String
  created_at: DateTime
  updated_at: DateTime
}
```

#### 对话数据
```sql
Conversation {
  id: UUID
  user_id: UUID
  ai_role: String
  messages: JSONB
  emotion_data: JSONB
  created_at: DateTime
  deleted_at: DateTime
}
```

#### 情绪日记
```sql
MoodDiary {
  id: UUID
  user_id: UUID
  mood: String
  intensity: Int
  triggers: String[]
  notes: String
  created_at: DateTime
}
```

#### 测评数据
```sql
Assessment {
  id: UUID
  user_id: UUID
  type: String
  answers: JSONB
  score: Float
  interpretation: String
  created_at: DateTime
}
```

### 5.2 数据存储策略
- **热数据**: Redis 缓存（7 天）
- **温数据**: PostgreSQL（1 年）
- **冷数据**: 对象存储（归档）
- **删除策略**: 用户可随时删除数据

## 6. 合规需求

### 6.1 法律合规
- **医疗资质**: 明确非医疗诊断
- **用户协议**: 清晰的责任条款
- **隐私政策**: 符合个人信息保护法
- **数据跨境**: 如需跨境，符合相关规定

### 6.2 行业标准
- **心理伦理**: 遵循心理咨询伦理
- **AI 伦理**: 负责任 AI 原则
- **无障碍**: WCAG 2.1 AA 标准

### 6.3 认证要求
- **等保**: 网络安全等级保护
- **ISO**: ISO 27001 信息安全
- **隐私认证**: 如 TrustArc

## 7. 运营需求

### 7.1 用户获取
- **渠道**: 应用商店、社交媒体、KOL
- **内容营销**: 心理科普内容
- **合作**: 企业、学校、社区

### 7.2 用户留存
- **推送提醒**: 情绪记录提醒
- **活动运营**: 主题活动
- **社区建设**: 建立归属感

### 7.3 商业模式
- **免费层**: 基础功能
- **会员订阅**: 月/年费
- **企业服务**: B2B 解决方案
- **专业转介**: 与咨询师合作

## 8. 技术架构

### 8.1 系统架构
```
客户端 (React Native/Web)
    ↓
API 网关 (Nginx)
    ↓
业务服务 (Node.js/Express)
    ↓
AI 服务 (Python/FastAPI)
    ↓
数据库 (PostgreSQL)
    ↓
缓存 (Redis)
    ↓
对象存储 (S3)
```

### 8.2 AI 架构
```
用户输入
    ↓
文本预处理
    ↓
情绪识别 (BERT)
    ↓
意图理解 (LLM)
    ↓
知识检索 (向量数据库)
    ↓
回应生成 (LLM + Prompt)
    ↓
安全审核 (规则 + 模型)
    ↓
输出
```

### 8.3 部署架构
- **容器化**: Docker + Kubernetes
- **云服务**: AWS/GCP/Aliyun
- **CDN**: 静态资源加速
- **监控**: Prometheus + Grafana

## 9. 项目里程碑

### Phase 1: MVP (3 个月)
- [ ] 用户注册登录
- [ ] AI 基础对话
- [ ] 情绪日记
- [ ] 基础安全机制
- [ ] 简单管理后台

### Phase 2: 核心功能 (6 个月)
- [ ] AI 角色系统
- [ ] CBT 练习工具
- [ ] 心理测评
- [ ] 语音功能
- [ ] 数据分析面板

### Phase 3: 进阶功能 (9 个月)
- [ ] 社区功能
- [ ] 专业内容库
- [ ] 真人转介
- [ ] 企业版
- [ ] 临床验证

### Phase 4: 优化扩展 (12 个月)
- [ ] 多语言支持
- [ ] 平台扩展（小程序、H5）
- [ ] AI 模型优化
- [ ] 商业化完善

## 10. 成功指标

### 10.1 用户指标
- **注册用户**: 10 万（首年）
- **月活用户**: 2 万（DAU/MAU > 30%）
- **留存率**: 30 日留存 > 40%
- **NPS**: 净推荐值 > 50

### 10.2 产品指标
- **对话次数**: 日均 5 万次
- **使用时长**: 平均 15 分钟/次
- **功能使用**: 3+ 功能/用户
- **满意度**: 4.5/5 分

### 10.3 商业指标
- **付费转化**: 5% 用户付费
- **ARPU**: 50 元/月
- **LTV**: 600 元/用户
- **ROI**: 18 个月回本

## 11. 风险与应对

### 11.1 技术风险
- **AI 质量**: 多模型对比，持续优化
- **系统稳定**: 多地部署，容灾备份
- **数据安全**: 加密存储，定期审计

### 11.2 伦理风险
- **危机处理**: 建立 24/7 危机响应
- **误导风险**: 明确 AI 边界，用户教育
- **隐私泄露**: 最小化数据收集，加密存储

### 11.3 合规风险
- **资质问题**: 避免医疗诊断声明
- **数据合规**: 聘请法律顾问
- **内容审核**: 建立多层审核机制

### 11.4 市场风险
- **竞争**: 差异化定位，快速迭代
- **用户接受**: 教育市场，建立信任
- **付费意愿**: 提供真实价值

## 12. 附录

### 12.1 参考资料
- 心理咨询行业报告
- AI 心理健康应用案例
- 相关法律法规
- 伦理指南

### 12.2 术语表
- CBT: 认知行为疗法
- NPS: 净推荐值
- DAU: 日活跃用户
- MAU: 月活跃用户
- LTV: 用户终身价值

### 12.3 变更记录
- 2026-02-03: 初始版本创建

---

**文档版本**: 1.0
**创建日期**: 2026-02-03
**审核状态**: 待审核
